To build a blog application where users can register, create posts, comment on blogs, and manage their profiles.

user.js const mongoose = require('mongoose'); const bcrypt = require('bcryptjs'); const userSchema = new mongoose.Schema({ username: { type: String, required: true, unique: true, trim: true }, email: { type: String, required: true, unique: true, lowercase: true }, Section/Group: 601-A
Student Name: Aditya UID: 23BCS10779
password: { type: String, required: true, minlength: 6 }, bio: { type: String, default: '' }, avatar: { type: String, default: 'default_avatar.png' } // A default image path }, { timestamps: true }); // Hash password before saving the user model userSchema.pre('save', async function(next) { if (!this.isModified('password')) return next(); this.password = await bcrypt.hash(this.password, 12); next(); }); module.exports = mongoose.model('User', userSchema); server.js const express = require('express'); const mongoose = require('mongoose'); const dotenv = require('dotenv'); dotenv.config();
const authRoutes = require('./routes/authRoutes'); const userRoutes = require('./routes/userRoutes'); const postRoutes = require('./routes/postRoutes'); const app = express(); // Middleware app.use(express.json()); // DB Connection mongoose.connect(process.env.MONGO_URI) .then(() => console.log('MongoDB connected successfully.')) .catch(err => console.error('MongoDB connection error:', err)); // Mount Routes app.use('/api/auth', authRoutes); app.use('/api/users', userRoutes); app.use('/api/posts', postRoutes); const PORT = process.env.PORT || 5000; app.listen(PORT, () => console.log(`Server running on port ${PORT}`));
